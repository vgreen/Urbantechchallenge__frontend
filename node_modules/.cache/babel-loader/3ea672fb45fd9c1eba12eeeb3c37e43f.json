{"ast":null,"code":"import _classCallCheck from \"/home/furazer/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/provider-finder-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/furazer/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/provider-finder-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/furazer/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/provider-finder-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/furazer/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/provider-finder-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/furazer/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/provider-finder-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/furazer/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/provider-finder-frontend/src/components/search_bar/index.jsx\";\nimport React from 'react'; //import { Link } from 'react-router-dom';\n\nimport './index.scss';\nimport Card from './card';\nimport Error from './error';\nimport Map from './map';\nimport { Checkbox } from 'semantic-ui-react';\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      search_img_active: false,\n      search_active: false,\n      map_active: false,\n      text: \"\",\n      data: [{\n        name: 'PedPiper',\n        inn: 123123123,\n        ogrn: 297128822,\n        concurents: [{\n          name: \"Hooli Inc\",\n          ogrn: 2342343242,\n          img: 'hooli'\n        }, {\n          name: \"Endframe\",\n          ogrn: 234234234,\n          img: 'endframe'\n        }]\n      }] //fill state text from input for request\n\n    };\n\n    _this.requestText = function (e) {\n      _this.setState({\n        text: e.target.value\n      });\n    };\n\n    _this.glowButton = function (e) {\n      _this.setState({\n        search_img_active: !_this.state.search_img_active\n      });\n    };\n\n    _this.returnIdle = function () {\n      _this.setState({\n        search_active: false\n      });\n    };\n\n    _this.doSearch = function () {\n      _this.setState({\n        search_active: true\n      });\n\n      _this.sendData();\n\n      _this.loadData();\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"loadData\",\n    //load data from server\n    value: function loadData() {\n      var _this2 = this;\n\n      fetch('/data').then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data.data);\n\n        _this2.setState({\n          data: data\n        });\n      });\n    }\n  }, {\n    key: \"sendData\",\n    value: function sendData() {\n      fetch('http://localhost:5000/message', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          data: this.state.text\n        })\n      }).then(function (response) {\n        response.json().then(function (data) {\n          console.log(data.body);\n        });\n      }).catch(function (error) {\n        console.log('Request failed', error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          search_active = _this$state.search_active,\n          map_active = _this$state.map_active,\n          search_img_active = _this$state.search_img_active,\n          data = _this$state.data;\n      return React.createElement(\"div\", {\n        className: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content \".concat(search_active ? \"on-top\" : \"on-center\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"logo \".concat(search_active ? \"on-top\" : \"on-center\"),\n        src: search_active ? require('../../assets/2.png') : require('../../assets/1.png'),\n        onClick: this.returnIdle,\n        alt: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"search-field \".concat(search_img_active || map_active ? \"active\" : \"inactive\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"search-text\",\n        onChange: this.requestText,\n        onFocus: this.glowButton,\n        onBlur: this.glowButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"go-search\",\n        onClick: this.doSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('../../assets/search.png'),\n        alt: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(Checkbox, {\n        toggle: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"result \".concat(search_active ? \"on-top\" : \"on-center\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, data.length >= 1 ? data.map(function (item, i) {\n        return React.createElement(Card, {\n          key: i,\n          data: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        });\n      }) : React.createElement(Error, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"result \".concat(map_active ? \"on-top\" : \"on-center\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Map, {\n        app_id: \"y1i5pcLAieTtZvogeXVs\",\n        app_code: \"yeitO96x3IdHPof2eMw8cA\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nexport { Search as default };","map":{"version":3,"sources":["/home/furazer/Рабочий стол/provider-finder-frontend/src/components/search_bar/index.jsx"],"names":["React","Card","Error","Map","Checkbox","Search","state","search_img_active","search_active","map_active","text","data","name","inn","ogrn","concurents","img","requestText","e","setState","target","value","glowButton","returnIdle","doSearch","sendData","loadData","fetch","then","response","json","console","log","method","headers","body","JSON","stringify","catch","error","require","length","map","item","i","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n//import { Link } from 'react-router-dom';\nimport './index.scss';\nimport Card from './card'\nimport Error from './error'\nimport Map from './map'\nimport { Checkbox } from 'semantic-ui-react'\n\n\n\n\nexport default class Search extends React.Component {\n    state = {\n        search_img_active: false,\n        search_active: false,\n        map_active: false,\n        text: \"\",\n        data:[\n            {\n                name: 'PedPiper',\n                inn: 123123123,\n                ogrn: 297128822,\n                concurents: [\n                    {\n                        name: \"Hooli Inc\",\n                        ogrn: 2342343242,\n                        img: 'hooli'\n                    },\n                    {\n                        name: \"Endframe\",\n                        ogrn: 234234234,\n                        img: 'endframe'\n                    }\n                ]\n            }\n        ]\n    }\n\n    \n\n    //fill state text from input for request\n    requestText = (e) => {\n        this.setState({\n            text: e.target.value\n        })    \n    }\n    //animation for input field\n    glowButton = (e) => {\n        this.setState({\n            search_img_active: !this.state.search_img_active \n        })  \n        \n    }\n\n    returnIdle = () =>{\n        this.setState({\n            search_active: false\n        })\n    }\n\n    //load data from server\n    loadData() {\n        fetch('/data')\n            .then(response => response.json())\n            .then(data => {\n        console.log(data.data)\n        this.setState({ data:data})\n        })\n    } \n    \n    sendData(){\n        fetch('http://localhost:5000/message', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                data: this.state.text\n            })\n        })\n            .then(response => {\n                response.json().then( data => {\n                    console.log(data.body)\n                })\n             \n            })  \n            .catch(function (error) {  \n                console.log('Request failed', error);  \n            });\n    }\n\n    doSearch = () => {\n        this.setState({\n            search_active: true\n        })\n        this.sendData()\n        this.loadData()\n        \n    }\n\n\n    render() {\n        const { search_active, map_active, search_img_active, data} = this.state\n        return(\n            <div className = \"Search\">\n                <div className = {`content ${ search_active ? \"on-top\" : \"on-center\" }`}> \n                    <img className={`logo ${ search_active ? \"on-top\" : \"on-center\" }`} src={ search_active ? require('../../assets/2.png') : require('../../assets/1.png') } onClick = {this.returnIdle} alt=\"1\"></img>\n                    <div className={`search-field ${ search_img_active || map_active  ? \"active\" : \"inactive\" }`}>\n                        <input type = \"text\" className = \"search-text\" onChange={this.requestText} onFocus = {this.glowButton} onBlur={this.glowButton} ></input>\n                        <div className = \"go-search\" onClick = { this.doSearch }><img src={ require('../../assets/search.png') } alt=\"1\"></img></div>\n                        <Checkbox toggle />\n                    </div>\n                </div>\n                <div className={`result ${ search_active ? \"on-top\" : \"on-center\" }`}>\n                    {\n                        data.length >= 1 ? data.map((item, i) => {\n                            return <Card key={ i } data={ item }></Card>\n                        }) : (<Error></Error>)\n                    }\n                </div>\n                <div className = {`result ${ map_active ? \"on-top\" : \"on-center\" }`}>\n                    <Map app_id=\"y1i5pcLAieTtZvogeXVs\" app_code=\"yeitO96x3IdHPof2eMw8cA\" />\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}